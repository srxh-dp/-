<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>复古 SVG 电视点播机</title>
    <style>
        :root {
            --tv-width: 800px;
            --tv-height: 600px;
            --screen-width: 560px;
            --screen-height: 420px;
            --screen-left-offset: 40px;
            --screen-top-offset: 90px;
        }

        body {
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            background-color: #2c3e50; /* 深色背景突出电视 */
            margin: 0;
        }

        /* 电视机主容器 */
        .tv-container {
            position: relative;
            width: var(--tv-width);
            height: var(--tv-height);
        }

        /* 视频播放器层 (在底部) */
        .video-layer {
            position: absolute;
            top: var(--screen-top-offset);
            left: var(--screen-left-offset);
            width: var(--screen-width);
            height: var(--screen-height);
            background-color: #000;
            overflow: hidden;
            border-radius: 40px; /* 匹配 CRT 屏幕的圆角 */
            box-shadow: inset 0 0 20px rgba(0,0,0,0.8);
            z-index: 1;
        }

        video {
            width: 100%;
            height: 100%;
            object-fit: cover;
            /* 给视频添加一点复古滤镜 */
            filter: contrast(1.2) sepia(0.2) saturate(1.1);
        }

        /* CRT 扫描线效果层 (覆盖在视频上) */
        .crt-overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: repeating-linear-gradient(
                to bottom,
                transparent 0px,
                transparent 2px,
                rgba(0, 0, 0, 0.1) 3px,
                rgba(0, 0, 0, 0.1) 4px
            );
            pointer-events: none; /* 确保点击能穿透到视频 */
            z-index: 2;
            box-shadow: inset 0 0 50px rgba(0,0,0,0.5);
        }

        /* SVG 框架层 (在最顶部) */
        .svg-frame-layer {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            z-index: 10;
            pointer-events: none; /* 让鼠标事件穿透 SVG 的空白区域 */
        }

        /* 定义 SVG 中可点击的旋钮样式 */
        .knob-group {
            cursor: pointer;
            pointer-events: auto; /* 恢复旋钮的鼠标事件 */
            transition: transform 0.1s ease;
        }

        .knob-group:active {
            transform: scale(0.95); /* 点击时的按压效果 */
        }

        /* 被选中的频道指示灯亮起 */
        .channel-indicator.active {
            fill: #ff4d4d; /* 亮红色 */
            filter: drop-shadow(0 0 5px #ff4d4d);
        }

    </style>
</head>
<body>

<div class="tv-container">
    <div class="video-layer">
        <video id="tvScreen" loop muted autoplay poster="https://placehold.co/560x420/000000/FFFFFF/png?text=NO+SIGNAL">
            <source src="" type="video/mp4">
        </video>
        <div class="crt-overlay"></div>
    </div>

    <svg class="svg-frame-layer" viewBox="0 0 800 600" xmlns="http://www.w3.org/2000/svg">
        <defs>
            <linearGradient id="woodGradient" x1="0%" y1="0%" x2="100%" y2="0%">
                <stop offset="0%" style="stop-color:#8B4513;stop-opacity:1" />
                <stop offset="50%" style="stop-color:#A0522D;stop-opacity:1" />
                <stop offset="100%" style="stop-color:#8B4513;stop-opacity:1" />
            </linearGradient>
             <linearGradient id="metalGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                <stop offset="0%" style="stop-color:#ccc;" />
                <stop offset="100%" style="stop-color:#666;" />
            </linearGradient>
            <pattern id="woodPattern" width="100" height="100" patternUnits="userSpaceOnUse">
                <rect width="100" height="100" fill="url(#woodGradient)"/>
                <path d="M0 0 Q 50 50 100 0 M0 20 Q 50 70 100 20 M0 40 Q 50 90 100 40" stroke="#6B3609" stroke-width="2" fill="none" opacity="0.3"/>
            </pattern>
        </defs>

        <g id="antenna">
            <line x1="400" y1="20" x2="300" y2="-80" stroke="#999" stroke-width="5" stroke-linecap="round"/>
            <circle cx="300" cy="-80" r="8" fill="#999"/>
            <line x1="420" y1="20" x2="550" y2="-100" stroke="#999" stroke-width="5" stroke-linecap="round"/>
             <circle cx="550" cy="-100" r="8" fill="#999"/>
        </g>

        <rect x="10" y="20" width="780" height="560" rx="30" ry="30" fill="url(#woodPattern)" stroke="#542a0c" stroke-width="5"/>

        <rect x="35" y="85" width="570" height="430" rx="40" ry="40" fill="#333" stroke="#1a1a1a" stroke-width="5"/>

        <rect x="620" y="85" width="150" height="430" rx="10" ry="10" fill="#d2b48c" opacity="0.4" stroke="#8B4513" />

        <g id="speaker-grill" transform="translate(635, 380)">
            <rect x="0" y="0" width="120" height="10" rx="5" fill="#4a2c18"/>
            <rect x="0" y="20" width="120" height="10" rx="5" fill="#4a2c18"/>
            <rect x="0" y="40" width="120" height="10" rx="5" fill="#4a2c18"/>
            <rect x="0" y="60" width="120" height="10" rx="5" fill="#4a2c18"/>
        </g>

        <g class="knob-group" id="channel-a-btn" transform="translate(695, 160)">
            <circle cx="0" cy="0" r="40" fill="url(#metalGradient)" stroke="#333" stroke-width="3"/>
            <rect x="-5" y="-35" width="10" height="20" fill="#333" rx="2"/>
            <text x="0" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" fill="#4a2c18">频道 A</text>
            <circle class="channel-indicator" id="ind-a" cx="0" cy="-55" r="5" fill="#550000" stroke="#333"/>
        </g>

        <g class="knob-group" id="channel-b-btn" transform="translate(695, 280)">
            <circle cx="0" cy="0" r="40" fill="url(#metalGradient)" stroke="#333" stroke-width="3" transform="rotate(45)"/>
            <rect x="-5" y="-35" width="10" height="20" fill="#333" rx="2" transform="rotate(45)"/>
            <text x="0" y="60" text-anchor="middle" font-family="Arial, sans-serif" font-weight="bold" fill="#4a2c18">频道 B</text>
             <circle class="channel-indicator" id="ind-b" cx="38" cy="-38" r="5" fill="#550000" stroke="#333"/>
        </g>
        
         <text x="400" y="560" text-anchor="middle" font-family="'Courier New', monospace" font-size="24" font-weight="bold" fill="#e0c0a0" letter-spacing="2">RETRO-VISION</text>

    </svg>
</div>

<script>
    // 定义频道列表和对应的视频源
    // 注意：这里使用了开源的示例视频链接，实际使用时请替换为你自己的视频地址
    const channels = {
        'a': {
            src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/BigBuckBunny.mp4',
            indicatorId: 'ind-a'
        },
        'b': {
            src: 'https://commondatastorage.googleapis.com/gtv-videos-bucket/sample/ElephantsDream.mp4',
            indicatorId: 'ind-b'
        }
        // 你可以继续添加更多频道...
    };

    const videoElement = document.getElementById('tvScreen');
    const channelABtn = document.getElementById('channel-a-btn');
    const channelBBtn = document.getElementById('channel-b-btn');
    const allIndicators = document.querySelectorAll('.channel-indicator');

    let currentChannel = null;

    // 切换频道的函数
    function switchChannel(channelKey) {
        // 如果点击的是当前正在播放的频道，则不做任何操作
        if (currentChannel === channelKey) return;
        
        currentChannel = channelKey;
        const channelData = channels[channelKey];

        // 1. 播放一点“静态噪音”来模拟换台效果 (可选，这里用暂停和黑屏海报模拟)
        videoElement.pause();
        // 暂时显示海报，模拟信号中断
        videoElement.load(); 

        // 2. 稍微延迟后加载新视频源
        setTimeout(() => {
            videoElement.src = channelData.src;
            videoElement.play().catch(e => {
                console.log("自动播放被阻止，用户需要交互才能播放声音:", e);
                // 可以在这里显示一个“点击播放”的提示
            });
            
            // 3. 更新指示灯状态
            allIndicators.forEach(ind => ind.classList.remove('active'));
            document.getElementById(channelData.indicatorId).classList.add('active');
        }, 300); // 300ms 的换台延迟
    }

    // 添加点击事件监听器
    channelABtn.addEventListener('click', () => switchChannel('a'));
    channelBBtn.addEventListener('click', () => switchChannel('b'));

    // 默认不自动播放频道，显示无信号状态。用户点击旋钮后开始。
</script>

</body>
</html>
